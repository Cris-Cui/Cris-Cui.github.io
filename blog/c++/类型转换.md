# 类型转换

## 隐式类型转换

> 自动执行，无需显式的操作符，通常发生在函数实参到形参的类型转换，函数返回值类型的自动转换

### 数值类型转换

从低精度到高精度的转换通常是被认为**提升**，通常不会造成数值差异。

以下存在三种特殊情况:

- 负数转化为无符号类型，通常会采用二进制补码表示。 (编译器不警告有符号和无符号整数类型之间的隐式转换)

	```cpp
	int a = -1;
	unsigned int  b = a;   // b = 2^32 - 1 = 4294967295
	```
- 无论是转换到bool类型或者是有bool类型进行转换： false等价于0(数值类型)或者空指针(指针类型)； true则等价于其它任何数值或者由true转化为1。
	```cpp
	int a = -2; 
	bool b = a; //则b = true
	```
- 浮点数转化为整数会采取截断操作，即移除小数部分。如果转换时发生了数值溢出，可能出现未定义的行为。
	```cpp
    float a = -1.5f;
    int   b = a; // b = -1
	```
	

### 指针类型转换

- 空指针可以转换到任意指针类型；
- 任意指针类型都可以转换到void* 指针；
- 继承类指针可以转换到可访问的明确的基类指针， 同时不改变const或者volatile属性;

## 显示类型转换

> 不推荐C风格的强制类型转换

### explicit关键字

> 阻止不应该允许的经过转换构造函数进行的隐式转换的发生。即声明为explicit的构造函数不能在隐式转换中使用。